<main>
    <ul aria-label="Breadcrumbs" class="breadcrumbs">
     <li class="root">
      <a href="/docs">
       <img alt="Docs" height="16" src="/assets/icons/16-docs-dark.svg" width="16"/>
      </a>
     </li>
     <li aria-hidden="true">
      <img alt="" height="16" src="/assets/icons/16-arrow-right.svg" width="16"/>
     </li>
     <li>
      <a href="/docs/reference/">
       Reference
      </a>
     </li>
     <li aria-hidden="true">
      <img alt="" height="16" src="/assets/icons/16-arrow-right.svg" width="16"/>
     </li>
     <li>
      <a href="/docs/reference/model/">
       Model
      </a>
     </li>
     <li aria-hidden="true">
      <img alt="" height="16" src="/assets/icons/16-arrow-right.svg" width="16"/>
     </li>
     <li>
      <a href="/docs/reference/model/figure/">
       Figure
      </a>
     </li>
    </ul>
    <h1 id="summary">
     <code>
      figure
     </code>
     <small>
      <span aria-describedby="element-tooltip">
       Element
      </span>
      <div class="tooltip-context">
       <svg aria-labelledby=":Rd39a:-label" height="12" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 12 12" width="12">
        <title id=":Rd39a:-label">
         Question mark
        </title>
        <use href="/assets/icons/12-tooltip.svg#icon">
        </use>
       </svg>
       <div aria-hidden="true" id="element-tooltip" role="tooltip" tabindex="-1">
        Element functions can be customized with
        <code>
         set
        </code>
        and
        <!-- -->
        <code>
         show
        </code>
        rules.
       </div>
      </div>
     </small>
    </h1>
    <p>
     A figure with an optional caption.
    </p>
    <p>
     Automatically detects its kind to select the correct counting track. For example, figures containing images will be numbered separately from figures containing tables.
    </p>
    <h2 id="examples">
     Examples
    </h2>
    <p>
     The example below shows a basic figure with an image:
    </p>
    <div class="previewed-code">
     <pre><code><span class="typ-ref">@glacier</span> shows a glacier. Glaciers
are complex systems.

<span class="typ-func">#</span><span class="typ-func">figure</span><span class="typ-punct">(</span>
  <span class="typ-func">image</span><span class="typ-punct">(</span><span class="typ-str">"glacier.jpg"</span><span class="typ-punct">,</span> width<span class="typ-punct">:</span> <span class="typ-num">80%</span><span class="typ-punct">)</span><span class="typ-punct">,</span>
  caption<span class="typ-punct">:</span> <span class="typ-punct">[</span>A curious figure.<span class="typ-punct">]</span><span class="typ-punct">,</span>
<span class="typ-punct">)</span> <span class="typ-label">&lt;glacier&gt;</span>
</code></pre>
     <div class="preview">
      <img alt="Preview" height="382/" src="/assets/docs/udw8J1zW8CDfoYB1XTzdLgAAAAAAAAAA.png" width="480"/>
     </div>
    </div>
    <p>
     You can also insert
     <a href="/docs/reference/model/table/">
      tables
     </a>
     into figures to give them a caption. The figure will detect this and automatically use a separate counter.
    </p>
    <div class="previewed-code">
     <pre><code><span class="typ-func">#</span><span class="typ-func">figure</span><span class="typ-punct">(</span>
  <span class="typ-func">table</span><span class="typ-punct">(</span>
    columns<span class="typ-punct">:</span> <span class="typ-num">4</span><span class="typ-punct">,</span>
    <span class="typ-punct">[</span>t<span class="typ-punct">]</span><span class="typ-punct">,</span> <span class="typ-punct">[</span>1<span class="typ-punct">]</span><span class="typ-punct">,</span> <span class="typ-punct">[</span>2<span class="typ-punct">]</span><span class="typ-punct">,</span> <span class="typ-punct">[</span>3<span class="typ-punct">]</span><span class="typ-punct">,</span>
    <span class="typ-punct">[</span>y<span class="typ-punct">]</span><span class="typ-punct">,</span> <span class="typ-punct">[</span>0.3s<span class="typ-punct">]</span><span class="typ-punct">,</span> <span class="typ-punct">[</span>0.4s<span class="typ-punct">]</span><span class="typ-punct">,</span> <span class="typ-punct">[</span>0.8s<span class="typ-punct">]</span><span class="typ-punct">,</span>
  <span class="typ-punct">)</span><span class="typ-punct">,</span>
  caption<span class="typ-punct">:</span> <span class="typ-punct">[</span>Timing results<span class="typ-punct">]</span><span class="typ-punct">,</span>
<span class="typ-punct">)</span>
</code></pre>
     <div class="preview">
      <img alt="Preview" height="158/" src="/assets/docs/_RaOJik9O5UoQO8Eq6OM9gAAAAAAAAAA.png" width="480"/>
     </div>
    </div>
    <p>
     This behaviour can be overridden by explicitly specifying the figure's
     <code>
      kind
     </code>
     . All figures of the same kind share a common counter.
    </p>
    <h2 id="figure-behaviour">
     Figure behaviour
    </h2>
    <p>
     By default, figures are placed within the flow of content. To make them float to the top or bottom of the page, you can use the
     <a href="/docs/reference/model/figure/#parameters-placement">
      <code>
       placement
      </code>
     </a>
     argument.
    </p>
    <p>
     If your figure is too large and its contents are breakable across pages (e.g. if it contains a large table), then you can make the figure itself breakable across pages as well with this show rule:
    </p>
    <pre><code><span class="typ-key">#</span><span class="typ-key">show</span> <span class="typ-func">figure</span><span class="typ-punct">:</span> <span class="typ-key">set</span> <span class="typ-func">block</span><span class="typ-punct">(</span>breakable<span class="typ-punct">:</span> <span class="typ-key">true</span><span class="typ-punct">)</span>
</code></pre>
    <p>
     See the
     <a href="/docs/reference/layout/block/#parameters-breakable">
      block
     </a>
     documentation for more information about breakable and non-breakable blocks.
    </p>
    <h2 id="caption-customization">
     Caption customization
    </h2>
    <p>
     You can modify the appearance of the figure's caption with its associated
     <a href="/docs/reference/model/figure/#definitions-caption">
      <code>
       caption
      </code>
     </a>
     function. In the example below, we emphasize all captions:
    </p>
    <div class="previewed-code">
     <pre><code><span class="typ-key">#</span><span class="typ-key">show</span> figure<span class="typ-punct">.</span><span class="typ-func">caption</span><span class="typ-punct">:</span> <span class="typ-func">emph</span>

<span class="typ-func">#</span><span class="typ-func">figure</span><span class="typ-punct">(</span>
  <span class="typ-func">rect</span><span class="typ-punct">[</span>Hello<span class="typ-punct">]</span><span class="typ-punct">,</span>
  caption<span class="typ-punct">:</span> <span class="typ-punct">[</span>I am emphasized!<span class="typ-punct">]</span><span class="typ-punct">,</span>
<span class="typ-punct">)</span>
</code></pre>
     <div class="preview">
      <img alt="Preview" height="123/" src="/assets/docs/_XYhSBTt1dmjYR9A4n_aCgAAAAAAAAAA.png" width="480"/>
     </div>
    </div>
    <p>
     By using a
     <a href="/docs/reference/foundations/function/#definitions-where">
      <code>
       where
      </code>
     </a>
     selector, we can scope such rules to specific kinds of figures. For example, to position the caption above tables, but keep it below for all other kinds of figures, we could write the following show-set rule:
    </p>
    <div class="previewed-code">
     <pre><code><span class="typ-key">#</span><span class="typ-key">show</span> figure<span class="typ-punct">.</span><span class="typ-func">where</span><span class="typ-punct">(</span>
  kind<span class="typ-punct">:</span> table
<span class="typ-punct">)</span><span class="typ-punct">:</span> <span class="typ-key">set</span> figure<span class="typ-punct">.</span><span class="typ-func">caption</span><span class="typ-punct">(</span>position<span class="typ-punct">:</span> top<span class="typ-punct">)</span>

<span class="typ-func">#</span><span class="typ-func">figure</span><span class="typ-punct">(</span>
  <span class="typ-func">table</span><span class="typ-punct">(</span>columns<span class="typ-punct">:</span> <span class="typ-num">2</span><span class="typ-punct">)</span><span class="typ-punct">[</span>A<span class="typ-punct">]</span><span class="typ-punct">[</span>B<span class="typ-punct">]</span><span class="typ-punct">[</span>C<span class="typ-punct">]</span><span class="typ-punct">[</span>D<span class="typ-punct">]</span><span class="typ-punct">,</span>
  caption<span class="typ-punct">:</span> <span class="typ-punct">[</span>I'm up here<span class="typ-punct">]</span><span class="typ-punct">,</span>
<span class="typ-punct">)</span>
</code></pre>
     <div class="preview">
      <img alt="Preview" height="158/" src="/assets/docs/5FXY-vQKID4Q1FYsR4Ix9AAAAAAAAAAA.png" width="480"/>
     </div>
    </div>
    <h2 id="parameters">
     <span aria-describedby="parameters-tooltip">
      Parameters
     </span>
     <div class="tooltip-context">
      <svg aria-labelledby=":R379a:-label" height="12" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 12 12" width="12">
       <title id=":R379a:-label">
        Question mark
       </title>
       <use href="/assets/icons/12-tooltip.svg#icon">
       </use>
      </svg>
      <div aria-hidden="true" id="parameters-tooltip" role="tooltip" tabindex="-1">
       Parameters are the inputs to a function. They are specified in parentheses after the function name.
      </div>
     </div>
    </h2>
    <div class="code code-definition">
     <span class="typ-func">
      figure
     </span>
     (
     <div class="arguments">
      <span class="overview-param">
       <a class="pill pill-con" href="/docs/reference/foundations/content/">
        content
       </a>
       ,
      </span>
      <span class="overview-param">
       <a href="#parameters-placement">
        placement
        <!-- -->
        :
       </a>
       <a class="pill pill-kw" href="/docs/reference/foundations/none/">
        none
       </a>
       <a class="pill pill-kw" href="/docs/reference/foundations/auto/">
        auto
       </a>
       <a class="pill pill-obj" href="/docs/reference/layout/alignment/">
        alignment
       </a>
       ,
      </span>
      <span class="overview-param">
       <a href="#parameters-scope">
        scope
        <!-- -->
        :
       </a>
       <a class="pill pill-str" href="/docs/reference/foundations/str/">
        str
       </a>
       ,
      </span>
      <span class="overview-param">
       <a href="#parameters-caption">
        caption
        <!-- -->
        :
       </a>
       <a class="pill pill-kw" href="/docs/reference/foundations/none/">
        none
       </a>
       <a class="pill pill-con" href="/docs/reference/foundations/content/">
        content
       </a>
       ,
      </span>
      <span class="overview-param">
       <a href="#parameters-kind">
        kind
        <!-- -->
        :
       </a>
       <a class="pill pill-kw" href="/docs/reference/foundations/auto/">
        auto
       </a>
       <a class="pill pill-str" href="/docs/reference/foundations/str/">
        str
       </a>
       <a class="pill pill-obj" href="/docs/reference/foundations/function/">
        function
       </a>
       ,
      </span>
      <span class="overview-param">
       <a href="#parameters-supplement">
        supplement
        <!-- -->
        :
       </a>
       <a class="pill pill-kw" href="/docs/reference/foundations/none/">
        none
       </a>
       <a class="pill pill-kw" href="/docs/reference/foundations/auto/">
        auto
       </a>
       <a class="pill pill-con" href="/docs/reference/foundations/content/">
        content
       </a>
       <a class="pill pill-obj" href="/docs/reference/foundations/function/">
        function
       </a>
       ,
      </span>
      <span class="overview-param">
       <a href="#parameters-numbering">
        numbering
        <!-- -->
        :
       </a>
       <a class="pill pill-kw" href="/docs/reference/foundations/none/">
        none
       </a>
       <a class="pill pill-str" href="/docs/reference/foundations/str/">
        str
       </a>
       <a class="pill pill-obj" href="/docs/reference/foundations/function/">
        function
       </a>
       ,
      </span>
      <span class="overview-param">
       <a href="#parameters-gap">
        gap
        <!-- -->
        :
       </a>
       <a class="pill pill-num" href="/docs/reference/layout/length/">
        length
       </a>
       ,
      </span>
      <span class="overview-param">
       <a href="#parameters-outlined">
        outlined
        <!-- -->
        :
       </a>
       <a class="pill pill-bool" href="/docs/reference/foundations/bool/">
        bool
       </a>
       ,
      </span>
     </div>
     )
     <!-- -->
     -&gt;
     <a class="pill pill-con" href="/docs/reference/foundations/content/">
      content
     </a>
    </div>
    <h3 id="parameters-body">
     <code>
      body
     </code>
     <div class="additional-info">
      <div>
       <a class="pill pill-con" href="/docs/reference/foundations/content/">
        content
       </a>
      </div>
      <small>
       Required
      </small>
      <small>
       <span aria-describedby="parameters-body-positional-tooltip">
        Positional
       </span>
       <div class="tooltip-context">
        <svg aria-labelledby=":Rcs8t9a:-label" height="12" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 12 12" width="12">
         <title id=":Rcs8t9a:-label">
          Question mark
         </title>
         <use href="/assets/icons/12-tooltip.svg#icon">
         </use>
        </svg>
        <div aria-hidden="true" id="parameters-body-positional-tooltip" role="tooltip" tabindex="-1">
         Positional parameters are specified in order, without names.
        </div>
       </div>
      </small>
     </div>
    </h3>
    <p>
     The content of the figure. Often, an
     <a href="/docs/reference/visualize/image/" title="image">
      image
     </a>
     .
    </p>
    <h3 id="parameters-placement">
     <code>
      placement
     </code>
     <div class="additional-info">
      <div>
       <a class="pill pill-kw" href="/docs/reference/foundations/none/">
        none
       </a>
       <small>
        or
       </small>
       <a class="pill pill-kw" href="/docs/reference/foundations/auto/">
        auto
       </a>
       <small>
        or
       </small>
       <a class="pill pill-obj" href="/docs/reference/layout/alignment/">
        alignment
       </a>
      </div>
      <small>
       <span aria-describedby="parameters-placement-settable-tooltip">
        Settable
       </span>
       <div class="tooltip-context">
        <svg aria-labelledby=":Rdk9d9a:-label" height="12" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 12 12" width="12">
         <title id=":Rdk9d9a:-label">
          Question mark
         </title>
         <use href="/assets/icons/12-tooltip.svg#icon">
         </use>
        </svg>
        <div aria-hidden="true" id="parameters-placement-settable-tooltip" role="tooltip" tabindex="-1">
         Settable parameters can be customized for all following uses of the function with a
         <code>
          set
         </code>
         rule.
        </div>
       </div>
      </small>
     </div>
    </h3>
    <p>
     The figure's placement on the page.
    </p>
    <ul>
     <li>
      <code>
       <span class="typ-key">
        none
       </span>
      </code>
      : The figure stays in-flow exactly where it was specified like other content.
     </li>
     <li>
      <code>
       <span class="typ-key">
        auto
       </span>
      </code>
      : The figure picks
      <code>
       top
      </code>
      or
      <code>
       bottom
      </code>
      depending on which is closer.
     </li>
     <li>
      <code>
       top
      </code>
      : The figure floats to the top of the page.
     </li>
     <li>
      <code>
       bottom
      </code>
      : The figure floats to the bottom of the page.
     </li>
    </ul>
    <p>
     The gap between the main flow content and the floating figure is controlled by the
     <a href="/docs/reference/layout/place/#parameters-clearance">
      <code>
       clearance
      </code>
     </a>
     argument on the
     <code>
      place
     </code>
     function.
    </p>
    <p>
     Default:
     <code>
      <span class="typ-key">
       none
      </span>
     </code>
    </p>
    <details class="folding-example">
     <summary>
      <img alt="" height="16" src="/assets/icons/16-arrow-right.svg" width="16"/>
      View example
     </summary>
     <div class="folding">
      <div class="previewed-code">
       <pre><code><span class="typ-key">#</span><span class="typ-key">set</span> <span class="typ-func">page</span><span class="typ-punct">(</span>height<span class="typ-punct">:</span> <span class="typ-num">200pt</span><span class="typ-punct">)</span>

<span class="typ-heading">= Introduction</span>
<span class="typ-func">#</span><span class="typ-func">figure</span><span class="typ-punct">(</span>
  placement<span class="typ-punct">:</span> bottom<span class="typ-punct">,</span>
  caption<span class="typ-punct">:</span> <span class="typ-punct">[</span>A glacier<span class="typ-punct">]</span><span class="typ-punct">,</span>
  <span class="typ-func">image</span><span class="typ-punct">(</span><span class="typ-str">"glacier.jpg"</span><span class="typ-punct">,</span> width<span class="typ-punct">:</span> <span class="typ-num">60%</span><span class="typ-punct">)</span><span class="typ-punct">,</span>
<span class="typ-punct">)</span>
<span class="typ-func">#</span><span class="typ-func">lorem</span><span class="typ-punct">(</span><span class="typ-num">60</span><span class="typ-punct">)</span>
</code></pre>
       <div class="preview">
        <img alt="Preview" height="400/" src="/assets/docs/AvTTV4CvkxyZB8XrzNUT3wAAAAAAAAAA.png" width="480"/>
        <img alt="Preview" height="400/" src="/assets/docs/AvTTV4CvkxyZB8XrzNUT3wAAAAAAAAAB.png" width="480"/>
       </div>
      </div>
     </div>
    </details>
    <h3 id="parameters-scope">
     <code>
      scope
     </code>
     <div class="additional-info">
      <div>
       <a class="pill pill-str" href="/docs/reference/foundations/str/">
        str
       </a>
      </div>
      <small>
       <span aria-describedby="parameters-scope-settable-tooltip">
        Settable
       </span>
       <div class="tooltip-context">
        <svg aria-labelledby=":Rdk9t9a:-label" height="12" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 12 12" width="12">
         <title id=":Rdk9t9a:-label">
          Question mark
         </title>
         <use href="/assets/icons/12-tooltip.svg#icon">
         </use>
        </svg>
        <div aria-hidden="true" id="parameters-scope-settable-tooltip" role="tooltip" tabindex="-1">
         Settable parameters can be customized for all following uses of the function with a
         <code>
          set
         </code>
         rule.
        </div>
       </div>
      </small>
     </div>
    </h3>
    <p>
     Relative to which containing scope the figure is placed.
    </p>
    <p>
     Set this to
     <code>
      <span class="typ-str">
       "parent"
      </span>
     </code>
     to create a full-width figure in a two-column document.
    </p>
    <p>
     Has no effect if
     <code>
      placement
     </code>
     is
     <code>
      <span class="typ-key">
       none
      </span>
     </code>
     .
    </p>
    <table>
     <thead>
      <tr>
       <th>
        Variant
       </th>
       <th>
        Details
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <code class="typ-str">
         "
         <!-- -->
         column
         <!-- -->
         "
        </code>
       </td>
       <td>
        <p>
         Place into the current column.
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <code class="typ-str">
         "
         <!-- -->
         parent
         <!-- -->
         "
        </code>
       </td>
       <td>
        <p>
         Place relative to the parent, letting the content span over all columns.
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     Default:
     <code>
      <span class="typ-str">
       "column"
      </span>
     </code>
    </p>
    <details class="folding-example">
     <summary>
      <img alt="" height="16" src="/assets/icons/16-arrow-right.svg" width="16"/>
      View example
     </summary>
     <div class="folding">
      <div class="previewed-code">
       <pre><code><span class="typ-key">#</span><span class="typ-key">set</span> <span class="typ-func">page</span><span class="typ-punct">(</span>height<span class="typ-punct">:</span> <span class="typ-num">250pt</span><span class="typ-punct">,</span> columns<span class="typ-punct">:</span> <span class="typ-num">2</span><span class="typ-punct">)</span>

<span class="typ-heading">= Introduction</span>
<span class="typ-func">#</span><span class="typ-func">figure</span><span class="typ-punct">(</span>
  placement<span class="typ-punct">:</span> bottom<span class="typ-punct">,</span>
  scope<span class="typ-punct">:</span> <span class="typ-str">"parent"</span><span class="typ-punct">,</span>
  caption<span class="typ-punct">:</span> <span class="typ-punct">[</span>A glacier<span class="typ-punct">]</span><span class="typ-punct">,</span>
  <span class="typ-func">image</span><span class="typ-punct">(</span><span class="typ-str">"glacier.jpg"</span><span class="typ-punct">,</span> width<span class="typ-punct">:</span> <span class="typ-num">60%</span><span class="typ-punct">)</span><span class="typ-punct">,</span>
<span class="typ-punct">)</span>
<span class="typ-func">#</span><span class="typ-func">lorem</span><span class="typ-punct">(</span><span class="typ-num">60</span><span class="typ-punct">)</span>
</code></pre>
       <div class="preview">
        <img alt="Preview" height="500/" src="/assets/docs/_zX5K9NHfd2mYYCeJmag7wAAAAAAAAAA.png" width="480"/>
        <img alt="Preview" height="500/" src="/assets/docs/_zX5K9NHfd2mYYCeJmag7wAAAAAAAAAB.png" width="480"/>
       </div>
      </div>
     </div>
    </details>
    <h3 id="parameters-caption">
     <code>
      caption
     </code>
     <div class="additional-info">
      <div>
       <a class="pill pill-kw" href="/docs/reference/foundations/none/">
        none
       </a>
       <small>
        or
       </small>
       <a class="pill pill-con" href="/docs/reference/foundations/content/">
        content
       </a>
      </div>
      <small>
       <span aria-describedby="parameters-caption-settable-tooltip">
        Settable
       </span>
       <div class="tooltip-context">
        <svg aria-labelledby=":Rdkad9a:-label" height="12" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 12 12" width="12">
         <title id=":Rdkad9a:-label">
          Question mark
         </title>
         <use href="/assets/icons/12-tooltip.svg#icon">
         </use>
        </svg>
        <div aria-hidden="true" id="parameters-caption-settable-tooltip" role="tooltip" tabindex="-1">
         Settable parameters can be customized for all following uses of the function with a
         <code>
          set
         </code>
         rule.
        </div>
       </div>
      </small>
     </div>
    </h3>
    <p>
     The figure's caption.
    </p>
    <p>
     Default:
     <code>
      <span class="typ-key">
       none
      </span>
     </code>
    </p>
    <h3 id="parameters-kind">
     <code>
      kind
     </code>
     <div class="additional-info">
      <div>
       <a class="pill pill-kw" href="/docs/reference/foundations/auto/">
        auto
       </a>
       <small>
        or
       </small>
       <a class="pill pill-str" href="/docs/reference/foundations/str/">
        str
       </a>
       <small>
        or
       </small>
       <a class="pill pill-obj" href="/docs/reference/foundations/function/">
        function
       </a>
      </div>
      <small>
       <span aria-describedby="parameters-kind-settable-tooltip">
        Settable
       </span>
       <div class="tooltip-context">
        <svg aria-labelledby=":Rdkat9a:-label" height="12" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 12 12" width="12">
         <title id=":Rdkat9a:-label">
          Question mark
         </title>
         <use href="/assets/icons/12-tooltip.svg#icon">
         </use>
        </svg>
        <div aria-hidden="true" id="parameters-kind-settable-tooltip" role="tooltip" tabindex="-1">
         Settable parameters can be customized for all following uses of the function with a
         <code>
          set
         </code>
         rule.
        </div>
       </div>
      </small>
     </div>
    </h3>
    <p>
     The kind of figure this is.
    </p>
    <p>
     All figures of the same kind share a common counter.
    </p>
    <p>
     If set to
     <code>
      <span class="typ-key">
       auto
      </span>
     </code>
     , the figure will try to automatically determine its kind based on the type of its body. Automatically detected kinds are
     <a href="/docs/reference/model/table/">
      tables
     </a>
     and
     <a href="/docs/reference/text/raw/">
      code
     </a>
     . In other cases, the inferred kind is that of an
     <a href="/docs/reference/visualize/image/" title="image">
      image
     </a>
     .
    </p>
    <p>
     Setting this to something other than
     <code>
      <span class="typ-key">
       auto
      </span>
     </code>
     will override the automatic detection. This can be useful if
    </p>
    <ul>
     <li>
      you wish to create a custom figure type that is not an
      <a href="/docs/reference/visualize/image/" title="image">
       image
      </a>
      , a
      <a href="/docs/reference/model/table/" title="table">
       table
      </a>
      or
      <a href="/docs/reference/text/raw/">
       code
      </a>
      ,
     </li>
     <li>
      you want to force the figure to use a specific counter regardless of its content.
     </li>
    </ul>
    <p>
     You can set the kind to be an element function or a string. If you set it to an element function other than
     <a href="/docs/reference/model/table/">
      <code>
       table
      </code>
     </a>
     ,
     <a href="/docs/reference/text/raw/">
      <code>
       raw
      </code>
     </a>
     or
     <a href="/docs/reference/visualize/image/">
      <code>
       image
      </code>
     </a>
     , you will need to manually specify the figure's supplement.
    </p>
    <p>
     Default:
     <code>
      <span class="typ-key">
       auto
      </span>
     </code>
    </p>
    <details class="folding-example">
     <summary>
      <img alt="" height="16" src="/assets/icons/16-arrow-right.svg" width="16"/>
      View example
     </summary>
     <div class="folding">
      <div class="previewed-code">
       <pre><code><span class="typ-func">#</span><span class="typ-func">figure</span><span class="typ-punct">(</span>
  <span class="typ-func">circle</span><span class="typ-punct">(</span>radius<span class="typ-punct">:</span> <span class="typ-num">10pt</span><span class="typ-punct">)</span><span class="typ-punct">,</span>
  caption<span class="typ-punct">:</span> <span class="typ-punct">[</span>A curious atom.<span class="typ-punct">]</span><span class="typ-punct">,</span>
  kind<span class="typ-punct">:</span> <span class="typ-str">"atom"</span><span class="typ-punct">,</span>
  supplement<span class="typ-punct">:</span> <span class="typ-punct">[</span>Atom<span class="typ-punct">]</span><span class="typ-punct">,</span>
<span class="typ-punct">)</span>
</code></pre>
       <div class="preview">
        <img alt="Preview" height="129/" src="/assets/docs/gnEhUtPlQLC9DmHftY4vzQAAAAAAAAAA.png" width="480"/>
       </div>
      </div>
     </div>
    </details>
    <h3 id="parameters-supplement">
     <code>
      supplement
     </code>
     <div class="additional-info">
      <div>
       <a class="pill pill-kw" href="/docs/reference/foundations/none/">
        none
       </a>
       <small>
        or
       </small>
       <a class="pill pill-kw" href="/docs/reference/foundations/auto/">
        auto
       </a>
       <small>
        or
       </small>
       <a class="pill pill-con" href="/docs/reference/foundations/content/">
        content
       </a>
       <small>
        or
       </small>
       <a class="pill pill-obj" href="/docs/reference/foundations/function/">
        function
       </a>
      </div>
      <small>
       <span aria-describedby="parameters-supplement-settable-tooltip">
        Settable
       </span>
       <div class="tooltip-context">
        <svg aria-labelledby=":Rdkbd9a:-label" height="12" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 12 12" width="12">
         <title id=":Rdkbd9a:-label">
          Question mark
         </title>
         <use href="/assets/icons/12-tooltip.svg#icon">
         </use>
        </svg>
        <div aria-hidden="true" id="parameters-supplement-settable-tooltip" role="tooltip" tabindex="-1">
         Settable parameters can be customized for all following uses of the function with a
         <code>
          set
         </code>
         rule.
        </div>
       </div>
      </small>
     </div>
    </h3>
    <p>
     The figure's supplement.
    </p>
    <p>
     If set to
     <code>
      <span class="typ-key">
       auto
      </span>
     </code>
     , the figure will try to automatically determine the correct supplement based on the
     <code>
      kind
     </code>
     and the active
     <a href="/docs/reference/text/text/#parameters-lang">
      text language
     </a>
     . If you are using a custom figure type, you will need to manually specify the supplement.
    </p>
    <p>
     If a function is specified, it is passed the first descendant of the specified
     <code>
      kind
     </code>
     (typically, the figure's body) and should return content.
    </p>
    <p>
     Default:
     <code>
      <span class="typ-key">
       auto
      </span>
     </code>
    </p>
    <details class="folding-example">
     <summary>
      <img alt="" height="16" src="/assets/icons/16-arrow-right.svg" width="16"/>
      View example
     </summary>
     <div class="folding">
      <div class="previewed-code">
       <pre><code><span class="typ-func">#</span><span class="typ-func">figure</span><span class="typ-punct">(</span>
  <span class="typ-punct">[</span>The contents of my figure!<span class="typ-punct">]</span><span class="typ-punct">,</span>
  caption<span class="typ-punct">:</span> <span class="typ-punct">[</span>My custom figure<span class="typ-punct">]</span><span class="typ-punct">,</span>
  supplement<span class="typ-punct">:</span> <span class="typ-punct">[</span>Bar<span class="typ-punct">]</span><span class="typ-punct">,</span>
  kind<span class="typ-punct">:</span> <span class="typ-str">"foo"</span><span class="typ-punct">,</span>
<span class="typ-punct">)</span>
</code></pre>
       <div class="preview">
        <img alt="Preview" height="103/" src="/assets/docs/_ow3s-d4xSBN6VX-nVHVzQAAAAAAAAAA.png" width="480"/>
       </div>
      </div>
     </div>
    </details>
    <h3 id="parameters-numbering">
     <code>
      numbering
     </code>
     <div class="additional-info">
      <div>
       <a class="pill pill-kw" href="/docs/reference/foundations/none/">
        none
       </a>
       <small>
        or
       </small>
       <a class="pill pill-str" href="/docs/reference/foundations/str/">
        str
       </a>
       <small>
        or
       </small>
       <a class="pill pill-obj" href="/docs/reference/foundations/function/">
        function
       </a>
      </div>
      <small>
       <span aria-describedby="parameters-numbering-settable-tooltip">
        Settable
       </span>
       <div class="tooltip-context">
        <svg aria-labelledby=":Rdkbt9a:-label" height="12" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 12 12" width="12">
         <title id=":Rdkbt9a:-label">
          Question mark
         </title>
         <use href="/assets/icons/12-tooltip.svg#icon">
         </use>
        </svg>
        <div aria-hidden="true" id="parameters-numbering-settable-tooltip" role="tooltip" tabindex="-1">
         Settable parameters can be customized for all following uses of the function with a
         <code>
          set
         </code>
         rule.
        </div>
       </div>
      </small>
     </div>
    </h3>
    <p>
     How to number the figure. Accepts a
     <a href="/docs/reference/model/numbering/">
      numbering pattern or function
     </a>
     .
    </p>
    <p>
     Default:
     <code>
      <span class="typ-str">
       "1"
      </span>
     </code>
    </p>
    <h3 id="parameters-gap">
     <code>
      gap
     </code>
     <div class="additional-info">
      <div>
       <a class="pill pill-num" href="/docs/reference/layout/length/">
        length
       </a>
      </div>
      <small>
       <span aria-describedby="parameters-gap-settable-tooltip">
        Settable
       </span>
       <div class="tooltip-context">
        <svg aria-labelledby=":Rdkcd9a:-label" height="12" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 12 12" width="12">
         <title id=":Rdkcd9a:-label">
          Question mark
         </title>
         <use href="/assets/icons/12-tooltip.svg#icon">
         </use>
        </svg>
        <div aria-hidden="true" id="parameters-gap-settable-tooltip" role="tooltip" tabindex="-1">
         Settable parameters can be customized for all following uses of the function with a
         <code>
          set
         </code>
         rule.
        </div>
       </div>
      </small>
     </div>
    </h3>
    <p>
     The vertical gap between the body and caption.
    </p>
    <p>
     Default:
     <code>
      <span class="typ-num">
       0.65em
      </span>
     </code>
    </p>
    <h3 id="parameters-outlined">
     <code>
      outlined
     </code>
     <div class="additional-info">
      <div>
       <a class="pill pill-bool" href="/docs/reference/foundations/bool/">
        bool
       </a>
      </div>
      <small>
       <span aria-describedby="parameters-outlined-settable-tooltip">
        Settable
       </span>
       <div class="tooltip-context">
        <svg aria-labelledby=":Rdkct9a:-label" height="12" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 12 12" width="12">
         <title id=":Rdkct9a:-label">
          Question mark
         </title>
         <use href="/assets/icons/12-tooltip.svg#icon">
         </use>
        </svg>
        <div aria-hidden="true" id="parameters-outlined-settable-tooltip" role="tooltip" tabindex="-1">
         Settable parameters can be customized for all following uses of the function with a
         <code>
          set
         </code>
         rule.
        </div>
       </div>
      </small>
     </div>
    </h3>
    <p>
     Whether the figure should appear in an
     <a href="/docs/reference/model/outline/" title="`outline`">
      <code>
       outline
      </code>
     </a>
     of figures.
    </p>
    <p>
     Default:
     <code>
      <span class="typ-key">
       true
      </span>
     </code>
    </p>
    <h2 id="definitions">
     <span aria-describedby="definitions-tooltip">
      Definitions
     </span>
     <div class="tooltip-context">
      <svg aria-labelledby=":Rcv9a:-label" height="12" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 12 12" width="12">
       <title id=":Rcv9a:-label">
        Question mark
       </title>
       <use href="/assets/icons/12-tooltip.svg#icon">
       </use>
      </svg>
      <div aria-hidden="true" id="definitions-tooltip" role="tooltip" tabindex="-1">
       Functions and types and can have associated definitions. These are accessed by specifying the function or type, followed by a period, and then the definition's name.
      </div>
     </div>
    </h2>
    <h3 class="scoped-function" id="definitions-caption">
     <code>
      caption
     </code>
     <small>
      <span aria-describedby="definitions-caption-element-tooltip">
       Element
      </span>
      <div class="tooltip-context">
       <svg aria-labelledby=":Rq7f9a:-label" height="12" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 12 12" width="12">
        <title id=":Rq7f9a:-label">
         Question mark
        </title>
        <use href="/assets/icons/12-tooltip.svg#icon">
        </use>
       </svg>
       <div aria-hidden="true" id="definitions-caption-element-tooltip" role="tooltip" tabindex="-1">
        Element functions can be customized with
        <code>
         set
        </code>
        and
        <!-- -->
        <code>
         show
        </code>
        rules.
       </div>
      </div>
     </small>
    </h3>
    <p>
     The caption of a figure. This element can be used in set and show rules to customize the appearance of captions for all figures or figures of a specific kind.
    </p>
    <p>
     In addition to its
     <code>
      pos
     </code>
     and
     <code>
      body
     </code>
     , the
     <code>
      caption
     </code>
     also provides the figure's
     <code>
      kind
     </code>
     ,
     <code>
      supplement
     </code>
     ,
     <code>
      counter
     </code>
     , and
     <code>
      numbering
     </code>
     as fields. These parts can be used in
     <a href="/docs/reference/foundations/function/#definitions-where">
      <code>
       where
      </code>
     </a>
     selectors and show rules to build a completely custom caption.
    </p>
    <div class="code code-definition">
     figure
     <span class="typ-punct">
      .
     </span>
     <span class="typ-func">
      caption
     </span>
     (
     <div class="arguments">
      <span class="overview-param">
       <a href="#definitions-caption-parameters-position">
        position
        <!-- -->
        :
       </a>
       <a class="pill pill-obj" href="/docs/reference/layout/alignment/">
        alignment
       </a>
       ,
      </span>
      <span class="overview-param">
       <a href="#definitions-caption-parameters-separator">
        separator
        <!-- -->
        :
       </a>
       <a class="pill pill-kw" href="/docs/reference/foundations/auto/">
        auto
       </a>
       <a class="pill pill-con" href="/docs/reference/foundations/content/">
        content
       </a>
       ,
      </span>
      <span class="overview-param">
       <a class="pill pill-con" href="/docs/reference/foundations/content/">
        content
       </a>
       ,
      </span>
     </div>
     )
     <!-- -->
     -&gt;
     <a class="pill pill-con" href="/docs/reference/foundations/content/">
      content
     </a>
    </div>
    <div class="previewed-code">
     <pre><code><span class="typ-key">#</span><span class="typ-key">show</span> figure<span class="typ-punct">.</span><span class="typ-func">caption</span><span class="typ-punct">:</span> <span class="typ-func">emph</span>

<span class="typ-func">#</span><span class="typ-func">figure</span><span class="typ-punct">(</span>
  <span class="typ-func">rect</span><span class="typ-punct">[</span>Hello<span class="typ-punct">]</span><span class="typ-punct">,</span>
  caption<span class="typ-punct">:</span> <span class="typ-punct">[</span>A rectangle<span class="typ-punct">]</span><span class="typ-punct">,</span>
<span class="typ-punct">)</span>
</code></pre>
     <div class="preview">
      <img alt="Preview" height="123/" src="/assets/docs/_9Rae3k-14dcb00bWW4ciAAAAAAAAAAA.png" width="480"/>
     </div>
    </div>
    <h4 id="definitions-caption-position">
     <code>
      position
     </code>
     <div class="additional-info">
      <div>
       <a class="pill pill-obj" href="/docs/reference/layout/alignment/">
        alignment
       </a>
      </div>
      <small>
       <span aria-describedby="definitions-caption-position-settable-tooltip">
        Settable
       </span>
       <div class="tooltip-context">
        <svg aria-labelledby=":R6q5rf9a:-label" height="12" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 12 12" width="12">
         <title id=":R6q5rf9a:-label">
          Question mark
         </title>
         <use href="/assets/icons/12-tooltip.svg#icon">
         </use>
        </svg>
        <div aria-hidden="true" id="definitions-caption-position-settable-tooltip" role="tooltip" tabindex="-1">
         Settable parameters can be customized for all following uses of the function with a
         <code>
          set
         </code>
         rule.
        </div>
       </div>
      </small>
     </div>
    </h4>
    <p>
     The caption's position in the figure. Either
     <code>
      top
     </code>
     or
     <code>
      bottom
     </code>
     .
    </p>
    <p>
     Default:
     <code>
      bottom
     </code>
    </p>
    <details class="folding-example">
     <summary>
      <img alt="" height="16" src="/assets/icons/16-arrow-right.svg" width="16"/>
      View example
     </summary>
     <div class="folding">
      <div class="previewed-code">
       <pre><code><span class="typ-key">#</span><span class="typ-key">show</span> figure<span class="typ-punct">.</span><span class="typ-func">where</span><span class="typ-punct">(</span>
  kind<span class="typ-punct">:</span> table
<span class="typ-punct">)</span><span class="typ-punct">:</span> <span class="typ-key">set</span> figure<span class="typ-punct">.</span><span class="typ-func">caption</span><span class="typ-punct">(</span>position<span class="typ-punct">:</span> top<span class="typ-punct">)</span>

<span class="typ-func">#</span><span class="typ-func">figure</span><span class="typ-punct">(</span>
  <span class="typ-func">table</span><span class="typ-punct">(</span>columns<span class="typ-punct">:</span> <span class="typ-num">2</span><span class="typ-punct">)</span><span class="typ-punct">[</span>A<span class="typ-punct">]</span><span class="typ-punct">[</span>B<span class="typ-punct">]</span><span class="typ-punct">,</span>
  caption<span class="typ-punct">:</span> <span class="typ-punct">[</span>I'm up here<span class="typ-punct">]</span><span class="typ-punct">,</span>
<span class="typ-punct">)</span>

<span class="typ-func">#</span><span class="typ-func">figure</span><span class="typ-punct">(</span>
  <span class="typ-func">rect</span><span class="typ-punct">[</span>Hi<span class="typ-punct">]</span><span class="typ-punct">,</span>
  caption<span class="typ-punct">:</span> <span class="typ-punct">[</span>I'm down here<span class="typ-punct">]</span><span class="typ-punct">,</span>
<span class="typ-punct">)</span>

<span class="typ-func">#</span><span class="typ-func">figure</span><span class="typ-punct">(</span>
  <span class="typ-func">table</span><span class="typ-punct">(</span>columns<span class="typ-punct">:</span> <span class="typ-num">2</span><span class="typ-punct">)</span><span class="typ-punct">[</span>A<span class="typ-punct">]</span><span class="typ-punct">[</span>B<span class="typ-punct">]</span><span class="typ-punct">,</span>
  caption<span class="typ-punct">:</span> figure<span class="typ-punct">.</span><span class="typ-func">caption</span><span class="typ-punct">(</span>
    position<span class="typ-punct">:</span> bottom<span class="typ-punct">,</span>
    <span class="typ-punct">[</span>I'm down here too!<span class="typ-punct">]</span>
  <span class="typ-punct">)</span>
<span class="typ-punct">)</span>
</code></pre>
       <div class="preview">
        <img alt="Preview" height="303/" src="/assets/docs/IdFKmiavSqMTEqn8wUXuUgAAAAAAAAAA.png" width="480"/>
       </div>
      </div>
     </div>
    </details>
    <h4 id="definitions-caption-separator">
     <code>
      separator
     </code>
     <div class="additional-info">
      <div>
       <a class="pill pill-kw" href="/docs/reference/foundations/auto/">
        auto
       </a>
       <small>
        or
       </small>
       <a class="pill pill-con" href="/docs/reference/foundations/content/">
        content
       </a>
      </div>
      <small>
       <span aria-describedby="definitions-caption-separator-settable-tooltip">
        Settable
       </span>
       <div class="tooltip-context">
        <svg aria-labelledby=":R6q6rf9a:-label" height="12" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 12 12" width="12">
         <title id=":R6q6rf9a:-label">
          Question mark
         </title>
         <use href="/assets/icons/12-tooltip.svg#icon">
         </use>
        </svg>
        <div aria-hidden="true" id="definitions-caption-separator-settable-tooltip" role="tooltip" tabindex="-1">
         Settable parameters can be customized for all following uses of the function with a
         <code>
          set
         </code>
         rule.
        </div>
       </div>
      </small>
     </div>
    </h4>
    <p>
     The separator which will appear between the number and body.
    </p>
    <p>
     If set to
     <code>
      <span class="typ-key">
       auto
      </span>
     </code>
     , the separator will be adapted to the current
     <a href="/docs/reference/text/text/#parameters-lang">
      language
     </a>
     and
     <a href="/docs/reference/text/text/#parameters-region">
      region
     </a>
     .
    </p>
    <p>
     Default:
     <code>
      <span class="typ-key">
       auto
      </span>
     </code>
    </p>
    <details class="folding-example">
     <summary>
      <img alt="" height="16" src="/assets/icons/16-arrow-right.svg" width="16"/>
      View example
     </summary>
     <div class="folding">
      <div class="previewed-code">
       <pre><code><span class="typ-key">#</span><span class="typ-key">set</span> figure<span class="typ-punct">.</span><span class="typ-func">caption</span><span class="typ-punct">(</span>separator<span class="typ-punct">:</span> <span class="typ-punct">[</span> <span class="typ-escape">---</span> <span class="typ-punct">]</span><span class="typ-punct">)</span>

<span class="typ-func">#</span><span class="typ-func">figure</span><span class="typ-punct">(</span>
  <span class="typ-func">rect</span><span class="typ-punct">[</span>Hello<span class="typ-punct">]</span><span class="typ-punct">,</span>
  caption<span class="typ-punct">:</span> <span class="typ-punct">[</span>A rectangle<span class="typ-punct">]</span><span class="typ-punct">,</span>
<span class="typ-punct">)</span>
</code></pre>
       <div class="preview">
        <img alt="Preview" height="123/" src="/assets/docs/F47AgUphmXiVn12oCb_ECAAAAAAAAAAA.png" width="480"/>
       </div>
      </div>
     </div>
    </details>
    <h4 id="definitions-caption-body">
     <code>
      body
     </code>
     <div class="additional-info">
      <div>
       <a class="pill pill-con" href="/docs/reference/foundations/content/">
        content
       </a>
      </div>
      <small>
       Required
      </small>
      <small>
       <span aria-describedby="definitions-caption-body-positional-tooltip">
        Positional
       </span>
       <div class="tooltip-context">
        <svg aria-labelledby=":R6e7rf9a:-label" height="12" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 12 12" width="12">
         <title id=":R6e7rf9a:-label">
          Question mark
         </title>
         <use href="/assets/icons/12-tooltip.svg#icon">
         </use>
        </svg>
        <div aria-hidden="true" id="definitions-caption-body-positional-tooltip" role="tooltip" tabindex="-1">
         Positional parameters are specified in order, without names.
        </div>
       </div>
      </small>
     </div>
    </h4>
    <p>
     The caption's body.
    </p>
    <p>
     Can be used alongside
     <code>
      kind
     </code>
     ,
     <code>
      supplement
     </code>
     ,
     <code>
      counter
     </code>
     ,
     <code>
      numbering
     </code>
     , and
     <code>
      location
     </code>
     to completely customize the caption.
    </p>
    <details class="folding-example">
     <summary>
      <img alt="" height="16" src="/assets/icons/16-arrow-right.svg" width="16"/>
      View example
     </summary>
     <div class="folding">
      <div class="previewed-code">
       <pre><code><span class="typ-key">#</span><span class="typ-key">show</span> figure<span class="typ-punct">.</span><span class="typ-func">caption</span><span class="typ-punct">:</span> it <span class="typ-op">=&gt;</span> <span class="typ-punct">[</span>
  <span class="typ-func">#</span><span class="typ-func">underline</span><span class="typ-punct">(</span>it<span class="typ-punct">.</span>body<span class="typ-punct">)</span> |
  <span class="typ-pol">#</span><span class="typ-pol">it</span><span class="typ-punct">.</span><span class="typ-pol">supplement</span>
  <span class="typ-key">#</span><span class="typ-key">context</span> it<span class="typ-punct">.</span>counter<span class="typ-punct">.</span><span class="typ-func">display</span><span class="typ-punct">(</span>it<span class="typ-punct">.</span>numbering<span class="typ-punct">)</span>
<span class="typ-punct">]</span>

<span class="typ-func">#</span><span class="typ-func">figure</span><span class="typ-punct">(</span>
  <span class="typ-func">rect</span><span class="typ-punct">[</span>Hello<span class="typ-punct">]</span><span class="typ-punct">,</span>
  caption<span class="typ-punct">:</span> <span class="typ-punct">[</span>A rectangle<span class="typ-punct">]</span><span class="typ-punct">,</span>
<span class="typ-punct">)</span>
</code></pre>
       <div class="preview">
        <img alt="Preview" height="123/" src="/assets/docs/JxID--FAnIhAECKLMVFiVwAAAAAAAAAA.png" width="480"/>
       </div>
      </div>
     </div>
    </details>
    <div class="page-end-buttons">
     <a class="previous" href="/docs/reference/model/emph/">
      <img alt="" src="/assets/icons/16-arrow-right.svg"/>
      <div>
       <span class="page-title">
        Emphasis
       </span>
       <span class="hint">
        Previous page
       </span>
      </div>
     </a>
     <a class="next" href="/docs/reference/model/footnote/">
      <img alt="" src="/assets/icons/16-arrow-right.svg"/>
      <div>
       <span class="page-title">
        Footnote
       </span>
       <span class="hint">
        Next page
       </span>
      </div>
     </a>
    </div>
   </main>